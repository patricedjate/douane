{% extends 'chefdashboardbase.html.twig' %}

{% block title %}Chef Dashboard
{% endblock %}
{% block body %}
	<h4 class="mb-3">Tableau De Bord</h4>
	<div class="row">
		<div class="col-xl-6 col-sm-6 col-12">
			<div class="card">
				<div class="card-body">
					<div class="dash-widget-header">
						<a href="{{path("app_fiche_index")}}">
							<span class="dash-widget-icon bg-primary">
								<i class="feather-user-plus"></i>
							</span>
						</a>
						<div class="dash-count">
							<h5 class="dash-title">Demande D'empotage</h5>
							<div class="dash-counts">
								<p>{{nombreFiche}}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xl-6 col-sm-6 col-12">
			<div class="card">
				<div class="card-body">
					<div class="dash-widget-header">
						<a href="{{path("chef_ListeAgent")}}">
							<span class="dash-widget-icon bg-blue">
								<i class="feather-users"></i>
							</span>
						</a>
						<div class="dash-count">
							<h5 class="dash-title">Agent de visite</h5>
							<div class="dash-counts">
								<p>{{nombreAgent}}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<div class="row">
		<div class="col-xl-6 col-sm-6 col-12">
			<div class="card">
				<div class="card-body">
					<div class="dash-widget-header">
						<span class="dash-widget-icon bg-success">
							<i class="feather-edit"></i>
						</span>
						<div class="dash-count">
							<h5 class="dash-title">Rapport de visite Effectué</h5>
							<div class="dash-counts">
								<p>{{nombre}}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xl-6 col-sm-6 col-12">
			<div class="card">
				<div class="card-body">
					<div class="dash-widget-header">
						<span class="dash-widget-icon bg-danger">
							<i class="feather-alert-circle"></i>
						</span>
						<div class="dash-count">
							<h5 class="dash-title">Rapport de visite non Effectué</h5>
							<div class="dash-counts">
								<p>{{nonEffectue}}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">

		<div class="col-xl-8 d-flex">
			<div class="card flex-fill">
				<div class="card-header">
					<div class="row align-items-center">
						<div class="col">
							<h5 class="card-title">Statistique des demandes d'empotage</h5>
						</div>
						
					</div>
				</div>
				<div class="card-body">
					<canvas id="myChart"></canvas>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
{% block script %}
	{{ parent() }}
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script>
		let myChart = document.querySelector("#myChart")
let graphe = new Chart(myChart, {
type: "bar",
data: {
labels: [
'Jan',
'Feb',
'Mar',
'Apr',
'May',
'Jun',
'Jul',
'Aug',
'Sep',
'oct',
'Nov',
'Dec'
],
datasets: [
{
label: "Nombre de demande",
data: [
26,
45,
84,
23,
45,
65,
78,
65,
42,
36,
28,
60
],
backgroundColor: "orange"
}
]
}

})
	</script>

{% endblock %}
